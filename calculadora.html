<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Diferença de Horas</title>
    <script>
        function calcularDiferenca() {
            let dataInicial = document.getElementById("dataInicial").value;
            let horaInicial = document.getElementById("horaInicial").value;
            let dataFinal = document.getElementById("dataFinal").value;
            let horaFinal = document.getElementById("horaFinal").value;
            
            let inicio = new Date(`${dataInicial}T${horaInicial}`);
            let fim = new Date(`${dataFinal}T${horaFinal}`);
            
            if (isNaN(inicio) || isNaN(fim)) {
                alert("Por favor, insira datas e horas válidas.");
                return;
            }
            
            let diferencaMs = fim - inicio;
            if (diferencaMs < 0) {
                alert("A data final deve ser maior que a data inicial.");
                return;
            }
            
            let totalMinutos = Math.floor(diferencaMs / (1000 * 60));
            let horas = Math.floor(totalMinutos / 60);
            let minutos = totalMinutos % 60;
            
            let resultado = `${horas}h ${minutos}min`;
            document.getElementById("resultado").innerText = resultado;
        }
        
        function copiarResultado() {
            let resultado = document.getElementById("resultado").innerText;
            navigator.clipboard.writeText(resultado).then(() => {
                alert("Resultado copiado!");
            });
        }
        
        function definirDataAtual() {
            let hoje = new Date().toISOString().split('T')[0];
            document.getElementById("dataFinal").value = hoje;
        }
    </script>
</head>
<body onload="definirDataAtual()">
    <h2>Calculadora de Diferença de Horas</h2>
    <label>Data Inicial: <input type="date" id="dataInicial"></label>
    <label>Hora Inicial: <input type="time" id="horaInicial"></label>
    <br>
    <label>Data Final: <input type="date" id="dataFinal"></label>
    <label>Hora Final: <input type="time" id="horaFinal"></label>
    <br>
    <button onclick="calcularDiferenca()">Calcular</button>
    <p id="resultado"></p>
    <button onclick="copiarResultado()">Copiar Resultado</button>
</body>
</html>
